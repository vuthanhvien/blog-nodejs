(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b494702"],{"1e9c":function(t,e,a){},"4cab":function(t,e,a){"use strict";var n=a("1e9c"),i=a.n(n);i.a},ed81:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-7"},[a("h4",[a("strong",[t._v(t._s(t.menu))])])]),a("div",{staticClass:"col-5"},[a("div",{staticClass:"text-right"},[a("a",{staticClass:"pointer",on:{click:function(e){return t.editModule()}}},[a("i",{staticClass:"fa fa-pencil"}),t._v(" Edit module")]),t._v("   \n        \n        "),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal1",modifiers:{modal1:!0}}],attrs:{variant:"primary"}},[t._v("Add\n          "),a("i",{staticClass:"fa fa-plus"})])],1)])]),a("br"),a("b-modal",{ref:"myModalRef",attrs:{title:"Add new "+t.menu,size:"lg",id:"modal1","hide-footer":""}},[a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[t._l(t.tableFields,(function(e){return a("b-form-group",{key:e.name,attrs:{label:e.label,"label-for":"exampleInput2"}},[e.type.indexOf("String")>-1?a("div",[a("b-form-textarea",{attrs:{type:"text",placeholder:"Enter "+e.name},model:{value:t.form[e.name],callback:function(a){t.$set(t.form,e.name,a)},expression:"form[col.name]"}})],1):e.type.indexOf("Int")>-1?a("div",[a("b-form-input",{attrs:{id:"id_"+e.name,type:"number",placeholder:"Enter "+e.name},model:{value:t.form[e.name],callback:function(a){t.$set(t.form,e.name,a)},expression:"form[col.name]"}})],1):a("div",[a("b-form-input",{attrs:{id:"id_"+e.name,type:"text",placeholder:"Enter "+e.name},model:{value:t.form[e.name],callback:function(a){t.$set(t.form,e.name,a)},expression:"form[col.name]"}})],1)])})),a("div",{staticClass:"text-right"},[a("b-button",{attrs:{type:"button",variant:"outline-basic"},on:{click:t.hideModal}},[t._v("Close")]),t._v(" \n        "),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),t._v(" \n        "),a("b-button",{attrs:{type:"reset",variant:"outline-danger"}},[t._v("Reset")])],1)],2)],1),a("div",{staticClass:"table-outner"},[t.loading?a("div",{staticClass:"loading"},[a("img",{attrs:{src:"https://loading.io/assets/img/css/sunny.svg"}})]):t._e(),a("table",{staticClass:"table"},[a("tr",[a("th",{staticClass:"text-center"},[t._v("Action")]),t._l(t.tableFields,(function(e){return a("th",{key:e.name,class:"class-header-"+e.name,style:{width:"id"==e.name||"createdAt"==e.name||"updatedAt"==e.name?"50px":""}},[t._v(t._s(e.name))])}))],2),t._l(t.tableItems,(function(e){return a("tr",{key:e.id},[a("td",{staticStyle:{width:"100px","white-space":"nowrap"}},[a("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal1",modifiers:{modal1:!0}}],staticClass:"btn btn-primary",on:{click:function(a){return t.edit(e)}}},[t._v("Edit")]),t._v(" \n          "),a("button",{staticClass:"btn btn-danger"},[t._v("Delete")])]),t._l(t.tableFields,(function(n){return a("td",{key:n.name,class:"class-cell-"+n.name},[a("p",[t._v(t._s(e[n.name]&&e[n.name].id?e[n.name].name:e[n.name]))])])}))],2)}))],2)]),a("div",{staticClass:"text-right",staticStyle:{padding:"5px"}})],1)},i=[],o=(a("7f7f"),a("aede")),s=(a("ac6a"),a("456d"),a("bc3a")),r=a.n(s),l=a("9530"),m=a.n(l);function d(){var t=Object(o["a"])(["\n          {\n            data:","{\n              list{\n                id\n                ","\n              }\n            }\n          }\n        "]);return d=function(){return t},t}function c(){var t=Object(o["a"])(["\n        mutation($model : String, $data: Json){\n          ","(model: $model, data: $data){\n            message\n            success\n          }\n        }\n        "]);return c=function(){return t},t}var u={name:"post",components:{},data:function(){return{openAdd:!1,form:{},menu:"",schema:[],tableItems:[],tableFields:[],loading:!1}},methods:{editModule:function(){},hideModal:function(){this.$refs.myModalRef.hide()},edit:function(t){var e=this;this.form=JSON.parse(JSON.stringify(t)),Object.keys(this.form).map((function(t){e.form[t]&&e.form[t].__typename&&(e.form[t]=e.form[t].id)})),this.openAdd=!0,console.log(t)},onSubmit:function(t){t.preventDefault();var e=this;this.form.updatedAt=Math.floor((new Date).getTime()/1e3),this.form.createdAt||(this.form.createdAt=Math.floor((new Date).getTime()/1e3)),this.$apollo.mutate({mutation:m()(c(),this.form.id?"updateOne":"createOne"),variables:{model:this.menu.toLowerCase(),data:this.form}}).then((function(t){e.getData(e.menu),e.form={},e.openAdd=!1,e.hideModal()}))},onReset:function(t){t.preventDefault(),this.form={}},getData:function(t){var e=this,a=this;this.form={},this.loading=!0,this.schema.map((function(t){t.name===e.$route.params.id&&(e.tableFields=t.children)})),this.$apollo.query({query:m()(d(),t.toLowerCase()+"s",a.tableFields.map((function(t,e){return"Int"!==t.type&&"Int!"!==t.type&&"String!"!==t.type&&"String"!==t.type&&"Float"!==t.type&&"Float!"!==t.type&&"[Int]"!==t.type&&"[Int]!"!==t.type&&"[String]!"!==t.type&&"[String]"!==t.type&&"[Float]"!==t.type&&"[Float]!"!==t.type&&"Boolean"!==t.type&&"Boolean!"!==t.type&&"[Boolean]"!==t.type&&"[Boolean]!"!==t.type?t.name+"{\n                        id \n                        name\n                      }":t.name})).join("\n                ")),fetchPolicy:"network-only"}).then((function(t){a.loading=!1,a.tableItems=t.data.data.list}))}},watch:{$route:function(){this.menu=this.$route.params.id,this.tableItems=[],this.getData(this.menu)}},created:function(){var t=this;r.a.get("https://us-central1-vienvu-7e64f.cloudfunctions.net/getSchema").then((function(e){var a=[];e=e.data,Object.keys(e).map((function(t){var n=[];Object.keys(e[t]).map((function(a){n.push({label:a.toUpperCase(),name:a,type:e[t][a]})})),a.push({name:t,url:"/"+t,children:n})})),t.schema=a,t.menu=t.$route.params.id,t.getData(t.menu)}))}},f=u,p=(a("4cab"),a("2877")),b=Object(p["a"])(f,n,i,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-6b494702.2143faed.js.map